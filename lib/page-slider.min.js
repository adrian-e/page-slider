!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.PageSlider=i(t.jQuery)}(this,function(t){"use strict";return function(i){this.transitionsEnabled=!0,this.transitionDurationMs=300;var n,s=[];i.css({height:"100%",width:"100%",overflow:"hidden"});var e=function(t,i){var n="0px";switch(i){case"left":n="-100%";break;case"right":n="100%"}var s="translate3d("+n+", 0px , 0px)";t.css({webkitTransform:s,transform:s})},r=function(i){if(i instanceof t)return i;var n=t();return i.forEach(function(t){n=n.add(t)}),n},o=function(t){t=r(t),t.css({webkitTransitionDuration:this.transitionDurationMs+"ms",transitionDuration:this.transitionDurationMs+"ms"})},a=function(t){t=r(t),t.css({webkitTransform:"none",transform:"none",webkitTransitionDuration:"0s",transitionDuration:"0s"})};this.setTransitionDurationMs=function(t){this.transitionDurationMs=t},this.disableTransitions=function(){this.transitionsEnabled=!1},this.enableTransitions=function(){this.transitionsEnabled=!0},this.getNextSlideBehaviour=function(){var t=s.length;return 0===t?"first":location.hash===s[t-2]?"back":"forward"},this.slidePage=function(t,i){var n=location.hash,e=this.getNextSlideBehaviour();switch(e){case"first":s.push(n),this.slidePageFrom(t,null,i);break;case"back":s.pop(),this.slidePageFrom(t,"left",i);break;case"forward":s.push(n),this.slidePageFrom(t,"right",i)}},this.slidePageFrom=function(s,r,f){f=f||{},f.beforeTransition=f.beforeTransition||t.noop,f.afterTransition=f.afterTransition||t.noop;var u=n,c=!u;if(s.addClass("page"),i.append(s),f.beforeTransition(),c||!r||!this.transitionsEnabled)return a(s),u&&u.remove(),n=s,void f.afterTransition(c);e(s,r);var h=setTimeout(function(){d()},this.transitionDurationMs+100);n.one("transitionend webkitTransitionEnd",function(){d()}),o.call(this,[s,u]),i[0].offsetWidth,setTimeout(function(){e(s,"center"),e(u,"left"===r?"right":"left"),n=s},0);var d=function(){a(n),i.find("> .page:not(:last)").remove(),clearTimeout(h),f.afterTransition(!1)}}}});