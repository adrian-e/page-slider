!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.PageSlider=i(t.jQuery)}(this,function(t){"use strict";return function(i){this.transitionsEnabled=!0,this.transitionDurationMs=300;var n,e=[];i.addClass("page-slider-container");var r=function(t,i){var n="0px";switch(i){case"left":n="-100%";break;case"right":n="100%"}var e="translate3d("+n+", 0px , 0px)";t.css({webkitTransform:e,transform:e})},s=function(i){if(i instanceof t)return i;var n=t();return i.forEach(function(t){n=n.add(t)}),n},a=function(t){t=s(t),t.css({webkitTransitionDuration:this.transitionDurationMs+"ms",transitionDuration:this.transitionDurationMs+"ms"})},o=function(t){t=s(t),t.css({webkitTransform:"none",transform:"none",webkitTransitionDuration:"0s",transitionDuration:"0s"})};this.disableTransitions=function(){this.transitionsEnabled=!1},this.enableTransitions=function(){this.transitionsEnabled=!0},this.getNextSlideBehaviour=function(){var t=e.length;return 0===t?"first":location.hash===e[t-2]?"back":"forward"},this.slidePage=function(t,i){var n=location.hash,r=this.getNextSlideBehaviour();switch(r){case"first":e.push(n),this.slidePageFrom(t,null,i);break;case"back":e.pop(),this.slidePageFrom(t,"left",i);break;case"forward":e.push(n),this.slidePageFrom(t,"right",i)}},this.slidePageFrom=function(e,s,f){f=f||{},f.beforeTransition=f.beforeTransition||t.noop,f.afterTransition=f.afterTransition||t.noop;var u=n,c=!u;if(e.addClass("page"),i.append(e),f.beforeTransition(),c||!s||!this.transitionsEnabled)return o(e),u&&u.remove(),n=e,void f.afterTransition(c);r(e,s);var h=setTimeout(function(){d()},this.transitionDurationMs+100);n.one("transitionend webkitTransitionEnd",function(){d()}),a.call(this,[e,u]),i[0].offsetWidth,setTimeout(function(){r(e,"center"),r(u,"left"===s?"right":"left"),n=e},0);var d=function(){o(n),i.find("> .page:not(:last)").remove(),clearTimeout(h),f.afterTransition(!1)}}}});